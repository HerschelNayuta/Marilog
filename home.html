<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Trabalhe Conosco - Marilog Transportes e LogÃ­stica">
    <meta name="keywords" content="vagas, emprego, carreiras, trabalhe conosco, marilog">
    <title>Trabalhe Conosco | Marilog Transportes e LogÃ­stica</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

    <!-- Font Awesome 6 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Tailwind CSS -->
    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // MOBILE MENU TOGGLE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('active');
        });

        // Close mobile menu when clicking on a link
        const mobileLinks = mobileMenu.querySelectorAll('a');
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
            });
        });

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // SCROLL REVEAL ANIMATION
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section-reveal').forEach(el => {
            observer.observe(el);
        });

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // SMOOTH SCROLL FOR NAVIGATION LINKS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const offset = 80; // Header height
                    const targetPosition = target.offsetTop - offset;
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FORMULÃRIO - MÃSCARA DE TELEFONE
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const telefoneInput = document.getElementById('telefone');
        telefoneInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length <= 11) {
                value = value.replace(/^(\d{2})(\d)/g, '($1) $2');
                value = value.replace(/(\d)(\d{4})$/, '$1-$2');
                e.target.value = value;
            }
        });

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FORMULÃRIO - ELEMENTOS
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const contactForm = document.getElementById('contact-form');
        const submitBtn = document.getElementById('submit-btn');
        const formLoading = document.getElementById('form-loading');
        const formSuccess = document.getElementById('form-success');
        const formError = document.getElementById('form-error');

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FORMULÃRIO - FUNÃ‡Ã•ES DE VALIDAÃ‡ÃƒO
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        function validatePhone(phone) {
            const cleaned = phone.replace(/\D/g, '');
            return cleaned.length >= 10 && cleaned.length <= 11;
        }

        function showError(input, message) {
            input.classList.add('border-red-500');
            input.classList.remove('border-gray-300');
            const errorMsg = input.parentElement.querySelector('.error-msg');
            if (errorMsg) {
                errorMsg.textContent = message;
                errorMsg.classList.remove('hidden');
            }
        }

        function clearError(input) {
            input.classList.remove('border-red-500');
            input.classList.add('border-gray-300');
            const errorMsg = input.parentElement.querySelector('.error-msg');
            if (errorMsg) {
                errorMsg.classList.add('hidden');
            }
        }

        // Clear errors on input
        document.querySelectorAll('#contact-form input, #contact-form textarea').forEach(input => {
            input.addEventListener('input', () => clearError(input));
            input.addEventListener('focus', () => clearError(input));
        });

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // FORMULÃRIO - SUBMISSÃƒO
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Form submission handler
        contactForm.addEventListener('submit', async function(e) {
            e.preventDefault();

            // Validate all fields
            const nome = document.getElementById('nome').value.trim();
            const email = document.getElementById('email').value.trim();
            const telefone = document.getElementById('telefone').value.trim();
            const empresa = document.getElementById('empresa').value.trim();
            const mensagem = document.getElementById('mensagem').value.trim();

            if (!nome || !email || !telefone || !empresa || !mensagem) {
                alert('Por favor, preencha todos os campos obrigatÃ³rios.');
                return;
            }

            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert('Por favor, insira um email vÃ¡lido.');
                return;
            }

            // Phone validation (Brazilian format)
            const phoneRegex = /^\(\d{2}\)\s\d{5}-\d{4}$/;
            if (!phoneRegex.test(telefone)) {
                alert('Por favor, insira um telefone vÃ¡lido no formato (XX) XXXXX-XXXX.');
                return;
            }

            // Show loading state
            const submitBtn = this.querySelector('button[type="submit"]');
            const formLoading = document.getElementById('form-loading');
            const formSuccess = document.getElementById('form-success');
            const originalBtnText = submitBtn.innerHTML;

            submitBtn.disabled = true;
            formLoading.classList.remove('hidden');
            formSuccess.classList.add('hidden');

            try {
                // Prepare form data for both submissions
                const formData = new FormData(this);

                // 1. Send to Google Sheets webhook
                const webhookUrl = document.getElementById('webhook_url').value;
                if (webhookUrl) {
                    await fetch(webhookUrl, {
                        method: 'POST',
                        mode: 'no-cors',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            nome: nome,
                            email: email,
                            telefone: telefone,
                            empresa: empresa,
                            mensagem: mensagem,
                            timestamp: new Date().toISOString()
                        })
                    });
                }

                // 2. Send to FormSubmit via AJAX (without redirect)
                const formSubmitUrl = 'https://formsubmit.co/comercial@marilog.com.br';
                await fetch(formSubmitUrl, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                }).catch(() => {
                    // FormSubmit may block AJAX, but that's OK - the webhook works
                    console.log('FormSubmit AJAX submission attempted');
                });

                // Show success message
                formLoading.classList.add('hidden');
                formSuccess.classList.remove('hidden');

                // Reset form after 3 seconds
                setTimeout(() => {
                    contactForm.reset();
                    formSuccess.classList.add('hidden');
                    submitBtn.disabled = false;
                }, 3000);

            } catch (error) {
                console.error('Error:', error);
                formLoading.classList.add('hidden');
                alert('Ocorreu um erro ao enviar a mensagem. Por favor, tente novamente.');
                submitBtn.disabled = false;
            }
        });
    </script>

<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"9c696dac89d09da8","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.9.1","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"9c76c7720858f8e9","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.9.1","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>

    <!-- BotÃ£o Voltar ao Topo -->
    <button id="voltarTopo" class="fixed bottom-24 right-6 bg-[#0D1B2A] text-white w-12 h-12 rounded-full shadow-2xl hidden hover:bg-[#66CC33] transition-all z-40" aria-label="Voltar ao topo">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
    (function() {
        const btn = document.getElementById('voltarTopo');
        if (btn) {
            window.addEventListener('scroll', () => {
                btn.classList.toggle('hidden', window.scrollY < 400);
            });
            btn.addEventListener('click', () => {
                window.scrollTo({top: 0, behavior: 'smooth'});
            });
        }
    })();
    </script>

<script>
// FORMULÃRIO TRABALHE CONOSCO - VERSÃƒO OTIMIZADA
(function() {
    'use strict';

    const CONFIG = {
        webhook: 'https://script.google.com/macros/s/AKfycbyJx6d_1AglLxdG_RFDAO0nrl9teNXAACpNEkWNR0pektpT2DnhAHlGWb_zEhiuUV_Acw/exec',
        maxFileSize: 5 * 1024 * 1024, // 5MB
        allowedExtensions: ['pdf', 'doc', 'docx'],
        production: true
    };

    const log = (...args) => !CONFIG.production && console.log(...args);

    function init() {
        const form = document.getElementById('formTrabalhe');
        if (!form) return log('âŒ Form nÃ£o encontrado');

        log('âœ… FormulÃ¡rio CV inicializado');

        // Honeypot
        const honeypot = document.createElement('input');
        honeypot.type = 'text';
        honeypot.name = '_gotcha';
        honeypot.style.display = 'none';
        honeypot.tabIndex = -1;
        form.appendChild(honeypot);

        // MÃ¡scara telefone
        const tel = document.getElementById('telefonecv');
        if (tel) {
            tel.addEventListener('input', e => {
                let v = e.target.value.replace(/\D/g, '');
                if (v.length <= 11) {
                    v = v.length <= 10 
                        ? v.replace(/(\d{2})(\d{4})(\d{4})/, '($1) $2-$3')
                        : v.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
                }
                e.target.value = v;
            });
        }

        // ValidaÃ§Ã£o arquivo
        const fileInput = document.getElementById('curriculo');
        const fileInfo = document.getElementById('fileInfo');

        if (fileInput) {
            fileInput.addEventListener('change', e => {
                const file = e.target.files[0];
                if (!file) return;

                const ext = file.name.split('.').pop().toLowerCase();

                // Validar extensÃ£o
                if (!CONFIG.allowedExtensions.includes(ext)) {
                    alert(`âš ï¸ Formato invÃ¡lido! Use: ${CONFIG.allowedExtensions.join(', ').toUpperCase()}`);
                    e.target.value = '';
                    fileInfo.classList.add('hidden');
                    return;
                }

                // Validar tamanho
                if (file.size > CONFIG.maxFileSize) {
                    alert(`âš ï¸ Arquivo muito grande! MÃ¡ximo: ${(CONFIG.maxFileSize / 1024 / 1024).toFixed(0)}MB`);
                    e.target.value = '';
                    fileInfo.classList.add('hidden');
                    return;
                }

                // Mostrar info do arquivo
                fileInfo.innerHTML = `<i class="fas fa-check-circle"></i> Arquivo vÃ¡lido: ${file.name} (${(file.size / 1024).toFixed(0)} KB)`;
                fileInfo.classList.remove('hidden');
                log('âœ… Arquivo vÃ¡lido:', file.name);
            });
        }

        form.addEventListener('submit', handleSubmit);
    }

    async function handleSubmit(e) {
        e.preventDefault();

        // Verificar honeypot
        if (document.querySelector('[name="_gotcha"]')?.value) {
            log('ğŸ¤– Bot detectado!');
            return false;
        }

        const btn = document.getElementById('btnEnviarCV');
        const status = document.getElementById('mensagemStatusCV');

        btn.disabled = true;
        btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Enviando...';
        btn.style.backgroundColor = '#B0B3B5';

        const fileInput = document.getElementById('curriculo');
        const arquivo = fileInput.files[0];

        const dados = {
            tipo: 'Curriculo',
            nome: document.getElementById('nomecv').value,
            email: document.getElementById('emailcv').value,
            telefone: document.getElementById('telefonecv').value,
            cargo: document.getElementById('cargo').value,
            linkedin: document.getElementById('linkedin').value || 'NÃ£o informado',
            mensagem: document.getElementById('mensagemcv').value || 'Nenhuma mensagem adicional',
            arquivo: arquivo ? arquivo.name : 'Sem arquivo',
            tamanhoArquivo: arquivo ? `${(arquivo.size / 1024).toFixed(0)} KB` : '0 KB',
            data: new Date().toLocaleString('pt-BR'),
            origem: window.location.href
        };

        try {
            // 1. Google Sheets (dados + nome arquivo)
            log('ğŸ“Š Enviando para Google Sheets...');
            const respGoogle = await fetch(CONFIG.webhook, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(dados)
            });

            if (!respGoogle.ok) throw new Error('Erro Google Sheets');
            log('âœ… Dados salvos no Sheets');

            // 2. FormSubmit (anexo CV)
            log('ğŸ“§ Enviando CV por email...');
            const formData = new FormData(document.getElementById('formTrabalhe'));
            formData.append('_subject', `ğŸ’¼ Novo CV: ${dados.cargo} - ${dados.nome}`);
            formData.append('_template', 'table');
            formData.append('_captcha', 'false');

            const respEmail = await fetch('https://formsubmit.co/comercial@marilog.com.br', {
                method: 'POST',
                body: formData
            });

            if (!respEmail.ok) throw new Error('Erro FormSubmit');
            log('âœ… Email enviado');

            // Google Analytics event
            if (typeof gtag !== 'undefined') {
                gtag('event', 'cv_submit', {
                    event_category: 'trabalhe_conosco',
                    event_label: dados.cargo
                });
            }

            showStatus('âœ… CurrÃ­culo enviado com sucesso! Entraremos em contato em breve. ğŸ‰', 'success');
            document.getElementById('formTrabalhe').reset();
            document.getElementById('fileInfo').classList.add('hidden');

        } catch (erro) {
            log('âŒ Erro:', erro);
            showStatus('âš ï¸ Erro ao enviar. Tente novamente ou envie por email: comercial@marilog.com.br', 'error');
        } finally {
            btn.disabled = false;
            btn.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>Enviar CurrÃ­culo';
            btn.style.backgroundColor = '#66CC33';
        }
    }

    function showStatus(texto, tipo) {
        const status = document.getElementById('mensagemStatusCV');
        if (!status) return;

        status.textContent = texto;
        status.classList.remove('hidden');
        status.style.backgroundColor = tipo === 'success' ? '#66CC33' : '#EF4444';
        status.style.color = 'white';
        status.style.padding = '1rem';
        status.style.borderRadius = '0.5rem';

        setTimeout(() => status.classList.add('hidden'), 8000);
    }

    document.readyState === 'loading' 
        ? document.addEventListener('DOMContentLoaded', init)
        : init();
})();
</script>

</body>

</html>
